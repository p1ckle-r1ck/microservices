# Домашнее задание к занятию «Микросервисы: масштабирование»

Вы работаете в крупной компании, которая строит систему на основе микросервисной архитектуры.
Вам как DevOps-специалисту необходимо выдвинуть предложение по организации инфраструктуры для разработки и эксплуатации.

## Задача 1: Кластеризация

Предложите решение для обеспечения развёртывания, запуска и управления приложениями.
Решение может состоять из одного или нескольких программных продуктов и должно описывать способы и принципы их взаимодействия.

Решение должно соответствовать следующим требованиям:
- поддержка контейнеров;
- обеспечивать обнаружение сервисов и маршрутизацию запросов;
- обеспечивать возможность горизонтального масштабирования;
- обеспечивать возможность автоматического масштабирования;
- обеспечивать явное разделение ресурсов, доступных извне и внутри системы;
- обеспечивать возможность конфигурировать приложения с помощью переменных среды, в том числе с возможностью безопасного хранения чувствительных данных таких как пароли, ключи доступа, ключи шифрования и т. п.

Обоснуйте свой выбор.

### Ответ 
Для обеспечения развертывания, запуска и управления приложениями, я бы предложил решение на основе Kubernetes (K8s).

Kubernetes — это система оркестрации контейнеров, которая отвечает за управление контейнерами, их масштабирование, обеспечение высокой доступности и маршрутизацию трафика.

#### Поддержка контейнеров:
* Kubernetes работает с Docker и другими контейнерными платформами
#### Обнаружение сервисов и маршрутизацию запросов:
* В Kubernetes реализован Service Discovery с помощью встроенного механизма DNS.
* Для маршрутизации внешних запросов используется Ingress Controller. Он управляет балансировкой нагрузки, маршрутизацией на основе доменных имён и поддерживает SSL/TLS.
#### Горизонтальное масштабирование:
* Kubernetes поддерживает горизонтальное масштабирование (Horizontal Pod Autoscaler, HPA) с использованием метрик, таких как загрузка процессора или использование памяти.
#### Автоматическое масштабирование:
* Kubernetes поддерживает автоматическое масштабирование:
    * HPA для увеличения/уменьшения количества подов.
    * Cluster Autoscaler для добавления/удаления узлов в зависимости от потребностей.
#### Разделение ресурсов:
* Kubernetes обеспечивает явное разделение внешних и внутренних ресурсов:
    * Внешние ресурсы управляются через Ingress и LoadBalancer.
    * Внутренние ресурсы доступны только внутри кластера через ClusterIP.
#### Управление конфигурацией и безопасными данными:
* Kubernetes использует ConfigMap для хранения конфигураций и переменных среды.
* Павроли и ключи храняться в Secrets. Secrets шифруются и могут быть монтированы в поды как переменные среды или файлы. 
